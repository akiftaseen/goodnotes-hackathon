<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ANKID - Gamified Learning Adventure</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <style>
    @import url('https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600;700&family=SF+Pro+Text:wght@300;400;500;600&display=swap');
    
    :root {
      /* Material Design Color Palette */
      --md-primary: #43bfdb;
      --md-secondary: #f5dd59;
      --md-surface: #ffffff;
      --md-background: #ffffff;
      --md-on-primary: #ffffff;
      --md-on-secondary: #0e0e0e;
      --md-on-surface: #0e0e0e;
      --md-on-background: #0e0e0e;
      
      /* Primary Colors */
      --gn-primary: #43bfdb;
      --gn-secondary: #f5dd59;
      --gn-orange: #43bfdb;
      --gn-red: #43bfdb;
      --gn-purple: #43bfdb;
      --gn-pink: #43bfdb;
      --gn-yellow: #f5dd59;
      --gn-teal: #43bfdb;
      --gn-green: #43bfdb;
      
      /* Grayscale using the specified colors */
      --gn-gray-1: #ffffff;
      --gn-gray-2: rgba(67, 191, 219, 0.1);
      --gn-gray-3: rgba(67, 191, 219, 0.2);
      --gn-gray-4: rgba(67, 191, 219, 0.3);
      --gn-gray-5: rgba(14, 14, 14, 0.4);
      --gn-gray-6: rgba(14, 14, 14, 0.6);
      
      /* Text Colors */
      --gn-text-primary: #0e0e0e;
      --gn-text-secondary: rgba(14, 14, 14, 0.7);
      --gn-text-tertiary: rgba(14, 14, 14, 0.5);
      
      /* Surface Colors */
      --gn-background: #ffffff;
      --gn-surface: #ffffff;
      --gn-paper: #ffffff;
      
      /* Shadows using black */
      --gn-shadow-light: rgba(14, 14, 14, 0.04);
      --gn-shadow-medium: rgba(14, 14, 14, 0.08);
      --gn-shadow-strong: rgba(14, 14, 14, 0.12);
      
      /* Borders */
      --gn-border-light: rgba(14, 14, 14, 0.08);
      --gn-border-medium: rgba(14, 14, 14, 0.12);
    }
    
    * {
      box-sizing: border-box;
    }
    
    body {
      font-family: 'SF Pro Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      background: var(--gn-background);
      color: var(--gn-text-primary);
      line-height: 1.47;
      font-size: 17px;
      margin: 0;
      padding: 0;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    h1, h2, h3, h4, h5, h6 {
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      font-weight: 600;
      line-height: 1.2;
      margin: 0;
    }
    
    .gn-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .gn-header {
      background: rgba(250, 250, 250, 0.85);
      backdrop-filter: blur(25px) saturate(180%);
      -webkit-backdrop-filter: blur(25px) saturate(180%);
      border-bottom: 0.5px solid rgba(0, 0, 0, 0.04);
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 1px 0 0 rgba(255, 255, 255, 0.8) inset;
    }
    
    .gn-paper {
      background: var(--md-surface);
      border-radius: 8px;
      border: 1px solid var(--gn-border-light);
      box-shadow: 
        0 2px 4px var(--gn-shadow-light),
        0 4px 8px var(--gn-shadow-medium);
      position: relative;
      overflow: hidden;
    }
    
    .gn-paper::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        linear-gradient(90deg, transparent 79px, rgba(67, 191, 219, 0.1) 79px, rgba(67, 191, 219, 0.1) 80px, transparent 80px),
        repeating-linear-gradient(transparent, transparent 27px, rgba(67, 191, 219, 0.05) 27px, rgba(67, 191, 219, 0.05) 28px);
      pointer-events: none;
      opacity: 0.7;
      z-index: 1;
    }
    
    .gn-paper-content {
      position: relative;
      z-index: 2;
      background: var(--md-surface);
    }
    
    .gn-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 12px 24px;
      background: var(--md-primary);
      color: var(--md-on-primary);
      border: none;
      border-radius: 8px;
      font-family: 'SF Pro Text', system-ui, sans-serif;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      text-decoration: none;
      min-height: 48px;
      box-shadow: 
        0 2px 4px rgba(67, 191, 219, 0.2),
        0 4px 8px rgba(67, 191, 219, 0.1);
    }
    
    .gn-button:hover {
      background: rgba(67, 191, 219, 0.9);
      transform: translateY(-2px);
      box-shadow: 
        0 4px 8px rgba(67, 191, 219, 0.25),
        0 8px 16px rgba(67, 191, 219, 0.15);
    }
    
    .gn-button:active {
      transform: translateY(0);
      box-shadow: 
        0 2px 4px rgba(67, 191, 219, 0.2),
        0 4px 8px rgba(67, 191, 219, 0.1);
    }
    
    .gn-button-secondary {
      background: var(--md-secondary);
      color: var(--md-on-secondary);
      border: 1px solid var(--gn-border-light);
      box-shadow: 
        0 2px 4px var(--gn-shadow-light);
    }
    
    .gn-button-secondary:hover {
      background: rgba(245, 221, 89, 0.9);
      transform: translateY(-2px);
      box-shadow: 
        0 4px 8px rgba(245, 221, 89, 0.2),
        0 8px 16px rgba(245, 221, 89, 0.1);
    }
    
    .gn-nav-tab {
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: 500;
      font-size: 14px;
      text-decoration: none;
      color: var(--gn-text-secondary);
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      background: none;
      border: none;
      cursor: pointer;
      position: relative;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .gn-nav-tab.active {
      color: var(--md-primary);
      background: rgba(67, 191, 219, 0.1);
      box-shadow: 0 0 0 1px rgba(67, 191, 219, 0.2) inset;
    }
    
    .gn-nav-tab:hover {
      color: var(--gn-text-primary);
      background: var(--gn-gray-2);
    }
    
    .gn-card {
      background: var(--md-surface);
      border-radius: 8px;
      border: 1px solid var(--gn-border-light);
      box-shadow: 
        0 2px 4px var(--gn-shadow-light),
        0 4px 8px var(--gn-shadow-medium);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
    }
    
    .gn-card:hover {
      transform: translateY(-4px);
      box-shadow: 
        0 4px 8px var(--gn-shadow-medium),
        0 8px 16px var(--gn-shadow-strong);
      border-color: var(--md-primary);
    }
    
    .gn-icon-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 48px;
      height: 48px;
      border-radius: 8px;
      background: var(--md-surface);
      border: 1px solid var(--gn-border-light);
      color: var(--gn-text-secondary);
      cursor: pointer;
      transition: all 0.15s ease;
    }
    
    .gn-icon-button:hover {
      background: var(--gn-gray-2);
      color: var(--md-primary);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px var(--gn-shadow-medium);
    }
    
    .gn-stats-circle {
      width: 72px;
      height: 72px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 16px;
      position: relative;
      box-shadow: 
        0 4px 8px var(--gn-shadow-medium),
        0 8px 16px var(--gn-shadow-light);
    }
    
    .gn-badge {
      display: inline-flex;
      align-items: center;
      padding: 6px 16px;
      background: var(--md-secondary);
      color: var(--md-on-secondary);
      border-radius: 16px;
      font-size: 12px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .gn-section-title {
      font-size: 22px;
      font-weight: 600;
      color: var(--gn-text-primary);
      margin-bottom: 8px;
    }
    
    .gn-section-subtitle {
      font-size: 15px;
      color: var(--gn-text-secondary);
      margin-bottom: 24px;
    }
    
    /* Utility Classes */
    .flex { display: flex; }
    .items-center { align-items: center; }
    .justify-between { justify-content: space-between; }
    .justify-center { justify-content: center; }
    .space-x-2 > * + * { margin-left: 8px; }
    .space-x-3 > * + * { margin-left: 12px; }
    .space-x-4 > * + * { margin-left: 16px; }
    .space-x-6 > * + * { margin-left: 24px; }
    .space-y-6 > * + * { margin-top: 24px; }
    .space-y-8 > * + * { margin-top: 32px; }
    .py-4 { padding-top: 16px; padding-bottom: 16px; }
    .py-8 { padding-top: 32px; padding-bottom: 32px; }
    .py-12 { padding-top: 48px; padding-bottom: 48px; }
    .pb-4 { padding-bottom: 16px; }
    .p-4 { padding: 16px; }
    .p-6 { padding: 24px; }
    .p-8 { padding: 32px; }
    .mt-4 { margin-top: 16px; }
    .mt-6 { margin-top: 24px; }
    .mt-8 { margin-top: 32px; }
    .mb-2 { margin-bottom: 8px; }
    .mb-4 { margin-bottom: 16px; }
    .w-full { width: 100%; }
    .w-12 { width: 48px; }
    .h-12 { height: 48px; }
    .h-1 { height: 4px; }
    .h-3 { height: 12px; }
    .mx-auto { margin-left: auto; margin-right: auto; }
    .text-center { text-align: center; }
    .text-sm { font-size: 14px; }
    .text-xl { font-size: 20px; }
    .font-medium { font-weight: 500; }
    .font-semibold { font-weight: 600; }
    .font-bold { font-weight: 700; }
    .rounded-xl { border-radius: 12px; }
    .rounded-full { border-radius: 50%; }
    .bg-blue-50 { background-color: rgba(0, 122, 255, 0.05); }
    .bg-blue-100 { background-color: rgba(0, 122, 255, 0.1); }
    .bg-blue-500 { background-color: #007AFF; }
    .bg-green-50 { background-color: rgba(52, 199, 89, 0.05); }
    .bg-green-100 { background-color: rgba(52, 199, 89, 0.1); }
    .bg-green-500 { background-color: #34C759; }
    .bg-purple-50 { background-color: rgba(175, 82, 222, 0.05); }
    .bg-purple-100 { background-color: rgba(175, 82, 222, 0.1); }
    .bg-purple-500 { background-color: #AF52DE; }
    .bg-orange-50 { background-color: rgba(255, 149, 0, 0.05); }
    .bg-orange-100 { background-color: rgba(255, 149, 0, 0.1); }
    .bg-orange-500 { background-color: #FF9500; }
    .bg-gray-200 { background-color: var(--gn-gray-2); }
    .text-gray-700 { color: #374151; }
    .text-blue-600 { color: #2563eb; }
    .text-blue-700 { color: #1d4ed8; }
    .text-blue-800 { color: #1e40af; }
    .text-blue-900 { color: #1e3a8a; }
    .text-green-600 { color: #16a34a; }
    .text-green-700 { color: #15803d; }
    .text-green-800 { color: #166534; }
    .text-green-900 { color: #14532d; }
    .text-purple-600 { color: #9333ea; }
    .text-purple-700 { color: #7c3aed; }
    .text-purple-800 { color: #6b21a8; }
    .text-purple-900 { color: #581c87; }
    .text-orange-600 { color: #ea580c; }
    .text-orange-700 { color: #c2410c; }
    .text-orange-800 { color: #9a3412; }
    .text-orange-900 { color: #7c2d12; }
    .text-yellow-800 { color: #92400e; }
    .bg-yellow-100 { background-color: #fef3c7; }
    .border-yellow-200 { border-color: #fde68a; }
    .border-blue-200 { border-color: #bfdbfe; }
    .border-green-200 { border-color: #bbf7d0; }
    .border-purple-200 { border-color: #e9d5ff; }
    .border-orange-200 { border-color: #fed7aa; }
    .line-clamp-2 { 
      display: -webkit-box;
      -webkit-line-clamp: 2;
      line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    .mr-2 { margin-right: 8px; }
    .border { border-width: 1px; }
    .border-2 { border-width: 2px; }
    .relative { position: relative; }
    .absolute { position: absolute; }
    .top-1 { top: 4px; }
    .right-1 { right: 4px; }
    .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
    .overflow-hidden { overflow: hidden; }
    .transition-all { transition-property: all; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
    .duration-500 { transition-duration: 500ms; }
    .duration-1000 { transition-duration: 1000ms; }
    .ease-out { transition-timing-function: cubic-bezier(0, 0, 0.2, 1); }
    .capitalize { text-transform: capitalize; }
    .opacity-75 { opacity: 0.75; }
    
    .gn-input {
      width: 100%;
      padding: 16px 20px;
      background: var(--md-surface);
      border: 1px solid var(--gn-border-medium);
      border-radius: 8px;
      font-family: 'SF Pro Text', system-ui, sans-serif;
      font-size: 16px;
      color: var(--gn-text-primary);
      transition: all 0.15s ease;
    }
    
    .gn-input:focus {
      outline: none;
      border-color: var(--md-primary);
      box-shadow: 0 0 0 2px rgba(67, 191, 219, 0.2);
    }
    .grid { display: grid; }
    .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    .gap-4 { gap: 16px; }
    .gap-6 { gap: 24px; }
    .flex-1 { flex: 1 1 0%; }
    .min-h-screen { min-height: 100vh; }
    
    @media (min-width: 768px) {
      .md\\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .md\\:grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    }
    
    .avatar-float {
      animation: gentleFloat 4s ease-in-out infinite;
    }
    
    @keyframes gentleFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-4px); }
    }
    
    .card-appear {
      animation: cardAppear 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    
    @keyframes cardAppear {
      0% {
        opacity: 0;
        transform: scale(0.8) translateY(20px);
      }
      100% {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }
    
    .progress-shimmer {
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      animation: shimmer 2s infinite;
    }
    
    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
    
    .stat-pulse {
      animation: statPulse 3s ease-in-out infinite;
    }
    
    @keyframes statPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    .glow-effect {
      position: relative;
      overflow: hidden;
    }
    
    .glow-effect::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(0, 122, 255, 0.1) 0%, transparent 70%);
      animation: rotate 20s linear infinite;
      pointer-events: none;
    }
    
    @keyframes rotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState, useEffect } = React;

    // Icon Component
    const Icon = ({ name, size = 24, color = "currentColor" }) => {
      const icons = {
        'settings': <path strokeLinecap="round" strokeLinejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z M15 12a3 3 0 11-6 0 3 3 0 016 0z" />,
        'mic': <path strokeLinecap="round" strokeLinejoin="round" d="M12 1a3 3 0 00-3 3v8a3 3 0 006 0V4a3 3 0 00-3-3zM19 10v2a7 7 0 01-14 0v-2M12 19v4M8 23h8"/>,
        'book-open': <path strokeLinecap="round" strokeLinejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25A8.966 8.966 0 0118 3.75c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"/>,
        'plus': <path strokeLinecap="round" strokeLinejoin="round" d="M12 5v14m-7-7h14"/>,
        'flame': <path strokeLinecap="round" strokeLinejoin="round" d="M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z"/>,
        'gem': <path strokeLinecap="round" strokeLinejoin="round" d="M6 3h12l4 6-10 12L2 9l4-6z"/>,
        'layers': <g><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></g>,
        'trophy': <path strokeLinecap="round" strokeLinejoin="round" d="M16.5 18.75h-9m9 0a3 3 0 013 3h-15a3 3 0 013-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 01-.982-3.172M9.497 14.25a7.454 7.454 0 00.981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 007.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 002.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.228V2.721m-2.48 5.228a6.726 6.726 0 01-2.748 1.35m0 0A6.772 6.772 0 0112 10.5c-.665 0-1.312-.098-1.922-.272m0 0A6.772 6.772 0 007.228 8.47m0 0A6.547 6.547 0 006 5.227m0 0a6.721 6.721 0 016-2.477c2.247 0 4.312.857 5.86 2.263m0 0A6.547 6.547 0 0118 5.227"/>,
        'sparkles': <g><path d="M9.937 15.5A2 2 0 008.5 14.063l-6.135-1.582a.5.5 0 010-.962L8.5 9.936A2 2 0 009.937 8.5l1.582-6.135a.5.5 0 01.962 0L14.063 8.5A2 2 0 0015.5 9.937l6.135 1.582a.5.5 0 010 .962L15.5 14.063a2 2 0 00-1.437 1.437l-1.582 6.135a.5.5 0 01-.962 0L9.937 15.5z"/></g>,
        'zap': <path strokeLinecap="round" strokeLinejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z"/>,
        'check-circle': <path strokeLinecap="round" strokeLinejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>,
        'x-circle': <path strokeLinecap="round" strokeLinejoin="round" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"/>,
        'arrow-left': <path strokeLinecap="round" strokeLinejoin="round" d="M19 12H5m7 7l-7-7 7-7"/>,
        'edit': <path strokeLinecap="round" strokeLinejoin="round" d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7m-8-2l4-4m0 0l3-3m-3 3l-3 3"/>,
        'trash': <path strokeLinecap="round" strokeLinejoin="round" d="M3 6h18m-2 0v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/>,
        'lightbulb': <path strokeLinecap="round" strokeLinejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0zm-4 5.5V20a2 2 0 01-4 0v-2.5"/>
      };
      
      return (
        <svg
          width={size}
          height={size}
          viewBox="0 0 24 24"
          fill="none"
          stroke={color}
          strokeWidth="2"
          xmlns="http://www.w3.org/2000/svg"
        >
          {icons[name]}
        </svg>
      );
    };

    // Main App Component
    const ANKIDApp = () => {
      const [currentSection, setCurrentSection] = useState('dashboard');
      const [userStats, setUserStats] = useState({
        level: 1,
        xp: 350,
        xpToNext: 150,
        streak: 5,
        totalCards: 12,
        masteredCards: 8,
        gems: 35,
        coins: 250
      });

      const [flashcards, setFlashcards] = useState([
        { id: 1, front: 'What is photosynthesis?', back: 'The process by which plants convert sunlight into energy', subject: 'Biology', difficulty: 'Easy', mastered: true },
        { id: 2, front: 'What is the capital of France?', back: 'Paris', subject: 'Geography', difficulty: 'Easy', mastered: true },
        { id: 3, front: 'What is 15 Ã— 7?', back: '105', subject: 'Math', difficulty: 'Medium', mastered: false },
        { id: 4, front: 'Who wrote Romeo and Juliet?', back: 'William Shakespeare', subject: 'Literature', difficulty: 'Medium', mastered: false },
        { id: 5, front: 'What is the chemical symbol for gold?', back: 'Au', subject: 'Chemistry', difficulty: 'Hard', mastered: false }
      ]);

      const [currentCard, setCurrentCard] = useState(null);
      const [showAnswer, setShowAnswer] = useState(false);
      const [isStudying, setIsStudying] = useState(false);
      
      const [newCard, setNewCard] = useState({ front: '', back: '', subject: '', difficulty: 'Easy' });
      const [showCreateCard, setShowCreateCard] = useState(false);

      const [userAvatar, setUserAvatar] = useState({
        head: 'wizard',
        body: 'robes',
        accessory: 'hat',
        background: 'library',
        name: 'Study Sage'
      });

      const [quests, setQuests] = useState([
        { id: 1, title: 'First Steps', description: 'Create your first flashcard', reward: 50, completed: false, type: 'create', progress: 0, target: 1 },
        { id: 2, title: 'Knowledge Seeker', description: 'Study 5 flashcards', reward: 100, completed: false, type: 'study', progress: 0, target: 5 },
        { id: 3, title: 'Streak Master', description: 'Maintain a 3-day study streak', reward: 200, completed: false, type: 'streak', progress: 2, target: 3 },
        { id: 4, title: 'Card Collector', description: 'Create 10 flashcards', reward: 150, completed: false, type: 'create', progress: 5, target: 10 },
        { id: 5, title: 'Master Scholar', description: 'Master 20 cards', reward: 300, completed: false, type: 'master', progress: 8, target: 20 }
      ]);
      
      const [leaderboard, setLeaderboard] = useState([
        { rank: 1, name: 'Scholar Supreme', xp: 2500, level: 12, streak: 15 },
        { rank: 2, name: 'Study Ninja', xp: 2200, level: 11, streak: 12 },
        { rank: 3, name: 'Memory Master', xp: 1800, level: 9, streak: 8 },
        { rank: 4, name: 'You', xp: 350, level: 1, streak: 5 }
      ]);

      const [speechEnabled, setSpeechEnabled] = useState(false);

      // Marketplace state
      const [marketplaceListings, setMarketplaceListings] = useState([
        { id: 1, cardId: 6, seller: 'CardMaster', price: 25, type: 'sale', front: 'What is DNA?', back: 'Deoxyribonucleic acid', subject: 'Biology', difficulty: 'Medium' },
        { id: 2, cardId: 7, seller: 'StudyPro', price: 35, type: 'sale', front: 'Capital of Japan?', back: 'Tokyo', subject: 'Geography', difficulty: 'Easy' },
        { id: 3, cardId: 8, seller: 'MathWiz', price: 45, type: 'sale', front: 'What is 8Â² + 6Â²?', back: '100', subject: 'Math', difficulty: 'Hard' },
        { id: 4, cardId: 9, seller: 'BookLover', price: 30, type: 'sale', front: 'Who wrote 1984?', back: 'George Orwell', subject: 'Literature', difficulty: 'Medium' }
      ]);
      
      const [userListings, setUserListings] = useState([]);
      const [tradeOffers, setTradeOffers] = useState([
        { id: 1, from: 'StudyBuddy', cardOffered: 'Pythagorean Theorem', cardWanted: 'Chemical Bonds', status: 'pending' },
        { id: 2, from: 'QuizKing', cardOffered: 'World War II', cardWanted: 'Cell Division', status: 'pending' }
      ]);
      
      const [selectedCard, setSelectedCard] = useState(null);
      const [showSellModal, setShowSellModal] = useState(false);
      const [sellPrice, setSellPrice] = useState('');
      const [marketplaceFilter, setMarketplaceFilter] = useState('all');

      const showSection = (section) => {
        console.log('Switching to section:', section);
        setCurrentSection(section);
      };

      const addXP = (amount) => {
        setUserStats(prev => {
          const newXP = prev.xp + amount;
          const newLevel = Math.floor(newXP / 500) + 1;
          const xpToNext = (newLevel * 500) - newXP;
          
          return {
            ...prev,
            xp: newXP,
            level: newLevel,
            xpToNext: xpToNext > 0 ? xpToNext : 500,
            gems: prev.gems + Math.floor(amount / 10)
          };
        });
      };

      const startStudySession = () => {
        const unstudiedCards = flashcards.filter(card => !card.mastered);
        if (unstudiedCards.length > 0) {
          setCurrentCard(unstudiedCards[0]);
          setIsStudying(true);
          setShowAnswer(false);
        }
      };

      const answerCard = (correct) => {
        if (correct) {
          addXP(25);
          // Update quest progress
          setQuests(prev => prev.map(quest => 
            quest.type === 'study' ? { ...quest, progress: quest.progress + 1 } : quest
          ));
        }
        
        // Move to next card
        const currentIndex = flashcards.findIndex(card => card.id === currentCard.id);
        const nextCard = flashcards[currentIndex + 1];
        
        if (nextCard) {
          setCurrentCard(nextCard);
          setShowAnswer(false);
        } else {
          setIsStudying(false);
          setCurrentCard(null);
        }
      };

      const createCard = () => {
        if (newCard.front && newCard.back && newCard.subject) {
          const card = {
            id: Date.now(),
            ...newCard,
            mastered: false
          };
          
          setFlashcards(prev => [...prev, card]);
          setUserStats(prev => ({ ...prev, totalCards: prev.totalCards + 1 }));
          addXP(20);
          
          // Update quest progress
          setQuests(prev => prev.map(quest => 
            quest.type === 'create' ? { ...quest, progress: quest.progress + 1 } : quest
          ));
          
          setNewCard({ front: '', back: '', subject: '', difficulty: 'Easy' });
          setShowCreateCard(false);
        }
      };

      const toggleSpeech = () => {
        setSpeechEnabled(!speechEnabled);
        if (!speechEnabled && 'speechSynthesis' in window) {
          const utterance = new SpeechSynthesisUtterance('Speech enabled! I can now read cards aloud.');
          speechSynthesis.speak(utterance);
        }
      };

      const speakText = (text) => {
        if (speechEnabled && 'speechSynthesis' in window) {
          const utterance = new SpeechSynthesisUtterance(text);
          speechSynthesis.speak(utterance);
        }
      };

      // Marketplace functions
      const buyCard = (listing) => {
        if (userStats.coins >= listing.price) {
          const newCard = {
            id: Date.now(),
            front: listing.front,
            back: listing.back,
            subject: listing.subject,
            difficulty: listing.difficulty,
            mastered: false
          };
          
          setFlashcards(prev => [...prev, newCard]);
          setUserStats(prev => ({ 
            ...prev, 
            coins: prev.coins - listing.price,
            totalCards: prev.totalCards + 1
          }));
          setMarketplaceListings(prev => prev.filter(l => l.id !== listing.id));
          addXP(15);
          
          alert(`Successfully purchased "${listing.front}" for ${listing.price} coins!`);
        } else {
          alert('Not enough coins to purchase this card!');
        }
      };

      const sellCard = () => {
        if (selectedCard && sellPrice && parseInt(sellPrice) > 0) {
          const listing = {
            id: Date.now(),
            cardId: selectedCard.id,
            seller: 'You',
            price: parseInt(sellPrice),
            type: 'sale',
            front: selectedCard.front,
            back: selectedCard.back,
            subject: selectedCard.subject,
            difficulty: selectedCard.difficulty
          };
          
          setUserListings(prev => [...prev, listing]);
          setFlashcards(prev => prev.filter(card => card.id !== selectedCard.id));
          setUserStats(prev => ({ 
            ...prev,
            totalCards: prev.totalCards - 1
          }));
          
          setShowSellModal(false);
          setSelectedCard(null);
          setSellPrice('');
          alert('Card listed for sale successfully!');
        }
      };

      const acceptTrade = (tradeId) => {
        setTradeOffers(prev => prev.map(trade => 
          trade.id === tradeId ? { ...trade, status: 'accepted' } : trade
        ));
        addXP(25);
        alert('Trade accepted! Check your collection for the new card.');
      };

      const rejectTrade = (tradeId) => {
        setTradeOffers(prev => prev.filter(trade => trade.id !== tradeId));
        alert('Trade offer rejected.');
      };

      const addCoins = (amount) => {
        setUserStats(prev => ({ ...prev, coins: prev.coins + amount }));
      };

      const renderDashboard = () => (
        <div className="space-y-8">
          {/* Welcome Section */}
          <div className="gn-paper">
            <div className="gn-paper-content p-8">
              <div className="text-center">
                <h2 className="gn-section-title">Welcome back, Scholar!</h2>
                <p className="gn-section-subtitle">Ready to continue your learning adventure?</p>
                
                {/* Stats Overview */}
                <div className="grid grid-cols-2 md:grid-cols-4 gap-6 mt-8">
                  <div className="text-center">
                    <div className="gn-stats-circle" style={{background: 'var(--md-primary)'}}>
                      <span className="text-white text-xl font-bold">{userStats.level}</span>
                    </div>
                    <p className="text-sm font-medium text-gray-600">Level</p>
                  </div>
                  
                  <div className="text-center">
                    <div className="gn-stats-circle" style={{background: 'var(--md-secondary)'}}>
                      <Icon name="flame" size={28} color="black" />
                    </div>
                    <p className="text-sm font-medium text-gray-600">{userStats.streak} Day Streak</p>
                  </div>
                  
                  <div className="text-center">
                    <div className="gn-stats-circle" style={{background: 'var(--md-primary)'}}>
                      <Icon name="gem" size={28} color="white" />
                    </div>
                    <p className="text-sm font-medium text-gray-600">{userStats.gems} Gems</p>
                  </div>
                  
                  <div className="text-center">
                    <div className="gn-stats-circle" style={{background: 'var(--md-secondary)'}}>
                      <Icon name="layers" size={28} color="black" />
                    </div>
                    <p className="text-sm font-medium text-gray-600">{userStats.totalCards} Cards</p>
                  </div>
                </div>
                
                {/* Progress Bar */}
                <div className="mt-8">
                  <div className="flex justify-between text-sm text-gray-600 mb-2">
                    <span>Level {userStats.level}</span>
                    <span>{userStats.xpToNext} XP to next level</span>
                  </div>
                  <div className="w-full bg-gray-200 rounded-full h-3">
                    <div 
                      className="h-3 rounded-full transition-all duration-500"
                      style={{
                        width: `${((500 - userStats.xpToNext) / 500) * 100}%`,
                        background: 'var(--md-primary)'
                      }}
                    ></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          {/* Quick Actions */}
          <div className="grid md:grid-cols-2 gap-6">
            <div className="gn-card">
              <div className="p-6">
                <div className="flex items-center space-x-4">
                  <div className="w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center">
                    <Icon name="book-open" size={24} color="var(--gn-primary)" />
                  </div>
                  <div className="flex-1">
                    <h3 className="font-semibold text-gray-900">Continue Studying</h3>
                    <p className="text-sm text-gray-600">Pick up where you left off</p>
                  </div>
                </div>
                <button onClick={() => showSection('study')} className="gn-button w-full mt-4">
                  Start Session
                </button>
              </div>
            </div>
            
            <div className="gn-card">
              <div className="p-6">
                <div className="flex items-center space-x-4">
                  <div className="w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center">
                    <Icon name="plus" size={24} color="var(--gn-secondary)" />
                  </div>
                  <div className="flex-1">
                    <h3 className="font-semibold text-gray-900">Create Cards</h3>
                    <p className="text-sm text-gray-600">Add new knowledge to your collection</p>
                  </div>
                </div>
                <button onClick={() => showSection('collection')} className="gn-button-secondary w-full mt-4">
                  Create New
                </button>
              </div>
            </div>
          </div>

          {/* Today's Achievements */}
          <div className="gn-paper">
            <div className="gn-paper-content p-8">
              <h3 className="gn-section-title">Today's Progress</h3>
              <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mt-6">
                <div className="text-center p-4 rounded-xl" style={{background: 'linear-gradient(135deg, rgba(0, 122, 255, 0.05) 0%, rgba(0, 122, 255, 0.02) 100%)', border: '0.5px solid rgba(0, 122, 255, 0.1)'}}>
                  <Icon name="zap" size={32} color="var(--gn-primary)" className="mx-auto mb-2" />
                  <p className="text-sm font-medium">15 Cards Studied</p>
                  <div className="w-full bg-blue-100 rounded-full h-1 mt-2">
                    <div className="bg-blue-500 h-1 rounded-full" style={{width: '75%'}}></div>
                  </div>
                </div>
                <div className="text-center p-4 rounded-xl" style={{background: 'linear-gradient(135deg, rgba(52, 199, 89, 0.05) 0%, rgba(52, 199, 89, 0.02) 100%)', border: '0.5px solid rgba(52, 199, 89, 0.1)'}}>
                  <Icon name="trophy" size={32} color="var(--gn-secondary)" className="mx-auto mb-2" />
                  <p className="text-sm font-medium">2 Quests Complete</p>
                  <div className="w-full bg-green-100 rounded-full h-1 mt-2">
                    <div className="bg-green-500 h-1 rounded-full" style={{width: '100%'}}></div>
                  </div>
                </div>
                <div className="text-center p-4 rounded-xl" style={{background: 'linear-gradient(135deg, rgba(175, 82, 222, 0.05) 0%, rgba(175, 82, 222, 0.02) 100%)', border: '0.5px solid rgba(175, 82, 222, 0.1)'}}>
                  <Icon name="sparkles" size={32} color="var(--gn-purple)" className="mx-auto mb-2" />
                  <p className="text-sm font-medium">150 XP Earned</p>
                  <div className="w-full bg-purple-100 rounded-full h-1 mt-2">
                    <div className="bg-purple-500 h-1 rounded-full" style={{width: '60%'}}></div>
                  </div>
                </div>
                <div className="text-center p-4 rounded-xl" style={{background: 'linear-gradient(135deg, rgba(255, 149, 0, 0.05) 0%, rgba(255, 149, 0, 0.02) 100%)', border: '0.5px solid rgba(255, 149, 0, 0.1)'}}>
                  <Icon name="flame" size={32} color="var(--gn-orange)" className="mx-auto mb-2" />
                  <p className="text-sm font-medium">Streak Maintained</p>
                  <div className="w-full bg-orange-100 rounded-full h-1 mt-2">
                    <div className="bg-orange-500 h-1 rounded-full" style={{width: '100%'}}></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      );

      const renderCurrentSection = () => {
        console.log('Current section:', currentSection);
        switch(currentSection) {
          case 'dashboard':
            return renderDashboard();
          case 'study':
            return renderStudy();
          case 'collection':
            return renderCollection();
          case 'marketplace':
            return renderMarketplace();
          case 'quests':
            return renderQuests();
          case 'leaderboard':
            return renderLeaderboard();
          case 'avatar':
            return renderAvatar();
          default:
            return renderDashboard();
        }
      };

      const renderStudy = () => {
        if (isStudying && currentCard) {
          return (
            <div className="space-y-8">
              <div className="gn-paper">
                <div className="gn-paper-content p-8">
                  <div className="text-center mb-6">
                    <div className="flex justify-between items-center mb-4">
                      <button onClick={() => setIsStudying(false)} className="gn-button-secondary">
                        <Icon name="arrow-left" size={20} className="mr-2" />
                        Back to Study
                      </button>
                      <div className="gn-badge">
                        {currentCard.subject} â€¢ {currentCard.difficulty}
                      </div>
                    </div>
                  </div>
                  
                  <div className="max-w-2xl mx-auto">
                    <div className="gn-card p-8 text-center card-appear">
                      <h3 className="text-xl font-semibold mb-6">{showAnswer ? 'Answer' : 'Question'}</h3>
                      <p className="text-lg mb-8" onClick={() => speakText(showAnswer ? currentCard.back : currentCard.front)}>
                        {showAnswer ? currentCard.back : currentCard.front}
                      </p>
                      
                      {!showAnswer ? (
                        <button onClick={() => setShowAnswer(true)} className="gn-button">
                          Show Answer
                        </button>
                      ) : (
                        <div className="space-x-4">
                          <button onClick={() => answerCard(false)} className="gn-button-secondary">
                            <Icon name="x-circle" size={20} className="mr-2" />
                            Incorrect
                          </button>
                          <button onClick={() => answerCard(true)} className="gn-button">
                            <Icon name="check-circle" size={20} className="mr-2" />
                            Correct
                          </button>
                        </div>
                      )}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          );
        }

        return (
          <div className="space-y-8">
            <div className="gn-paper">
              <div className="gn-paper-content p-8">
                <h2 className="gn-section-title">Study Session</h2>
                <p className="gn-section-subtitle">Choose your study method</p>
                
                <div className="grid md:grid-cols-2 gap-6 mt-8">
                  <div className="gn-card">
                    <div className="p-6">
                      <div className="flex items-center space-x-4 mb-4">
                        <div className="w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center">
                          <Icon name="zap" size={24} color="var(--gn-primary)" />
                        </div>
                        <div>
                          <h3 className="font-semibold text-gray-900">Quick Review</h3>
                          <p className="text-sm text-gray-600">Review all unmastered cards</p>
                        </div>
                      </div>
                      <button onClick={startStudySession} className="gn-button w-full">
                        Start Quick Review
                      </button>
                    </div>
                  </div>
                  
                  <div className="gn-card">
                    <div className="p-6">
                      <div className="flex items-center space-x-4 mb-4">
                        <div className="w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center">
                          <Icon name="sparkles" size={24} color="var(--gn-purple)" />
                        </div>
                        <div>
                          <h3 className="font-semibold text-gray-900">Spaced Practice</h3>
                          <p className="text-sm text-gray-600">Optimized learning intervals</p>
                        </div>
                      </div>
                      <button onClick={startStudySession} className="gn-button-secondary w-full">
                        Coming Soon
                      </button>
                    </div>
                  </div>
                </div>
                
                {/* Study Statistics */}
                <div className="mt-8 grid grid-cols-3 gap-4">
                  <div className="text-center p-4 bg-blue-50 rounded-xl">
                    <p className="text-2xl font-bold text-blue-600">{userStats.totalCards}</p>
                    <p className="text-sm text-gray-600">Total Cards</p>
                  </div>
                  <div className="text-center p-4 bg-green-50 rounded-xl">
                    <p className="text-2xl font-bold text-green-600">{userStats.masteredCards}</p>
                    <p className="text-sm text-gray-600">Mastered</p>
                  </div>
                  <div className="text-center p-4 bg-orange-50 rounded-xl">
                    <p className="text-2xl font-bold text-orange-600">{userStats.totalCards - userStats.masteredCards}</p>
                    <p className="text-sm text-gray-600">To Study</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        );
      };
      const renderCollection = () => {
        if (showCreateCard) {
          return (
            <div className="space-y-8">
              <div className="gn-paper">
                <div className="gn-paper-content p-8">
                  <div className="flex items-center justify-between mb-6">
                    <h2 className="gn-section-title">Create New Card</h2>
                    <button onClick={() => setShowCreateCard(false)} className="gn-button-secondary">
                      <Icon name="x-circle" size={20} />
                    </button>
                  </div>
                  
                  <div className="max-w-2xl mx-auto space-y-6">
                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-2">Question (Front)</label>
                      <textarea
                        value={newCard.front}
                        onChange={(e) => setNewCard({...newCard, front: e.target.value})}
                        className="gn-input"
                        rows="3"
                        placeholder="Enter your question here..."
                      />
                    </div>
                    
                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-2">Answer (Back)</label>
                      <textarea
                        value={newCard.back}
                        onChange={(e) => setNewCard({...newCard, back: e.target.value})}
                        className="gn-input"
                        rows="3"
                        placeholder="Enter the answer here..."
                      />
                    </div>
                    
                    <div className="grid md:grid-cols-2 gap-4">
                      <div>
                        <label className="block text-sm font-medium text-gray-700 mb-2">Subject</label>
                        <select
                          value={newCard.subject}
                          onChange={(e) => setNewCard({...newCard, subject: e.target.value})}
                          className="gn-input"
                        >
                          <option value="">Select subject...</option>
                          <option value="Math">Math</option>
                          <option value="Science">Science</option>
                          <option value="History">History</option>
                          <option value="Literature">Literature</option>
                          <option value="Geography">Geography</option>
                          <option value="Other">Other</option>
                        </select>
                      </div>
                      
                      <div>
                        <label className="block text-sm font-medium text-gray-700 mb-2">Difficulty</label>
                        <select
                          value={newCard.difficulty}
                          onChange={(e) => setNewCard({...newCard, difficulty: e.target.value})}
                          className="gn-input"
                        >
                          <option value="Easy">Easy</option>
                          <option value="Medium">Medium</option>
                          <option value="Hard">Hard</option>
                        </select>
                      </div>
                    </div>
                    
                    <button onClick={createCard} className="gn-button w-full">
                      <Icon name="plus" size={20} className="mr-2" />
                      Create Card
                    </button>
                  </div>
                </div>
              </div>
            </div>
          );
        }

        return (
          <div className="space-y-8">
            <div className="gn-paper">
              <div className="gn-paper-content p-8">
                <div className="flex items-center justify-between mb-6">
                  <div>
                    <h2 className="gn-section-title">Card Collection</h2>
                    <p className="gn-section-subtitle">Manage your flashcard library</p>
                  </div>
                  <button onClick={() => setShowCreateCard(true)} className="gn-button">
                    <Icon name="plus" size={20} className="mr-2" />
                    New Card
                  </button>
                </div>
                
                {/* Subject Filter */}
                <div className="flex space-x-2 mb-6">
                  <button className="gn-nav-tab active">All</button>
                  <button className="gn-nav-tab">Math</button>
                  <button className="gn-nav-tab">Science</button>
                  <button className="gn-nav-tab">Literature</button>
                  <button className="gn-nav-tab">Geography</button>
                </div>
                
                {/* Cards Grid */}
                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                  {flashcards.map(card => (
                    <div key={card.id} className="gn-card card-appear">
                      <div className="p-4">
                        <div className="flex items-center justify-between mb-3">
                          <span className="gn-badge">{card.subject}</span>
                          <span className={`text-xs px-2 py-1 rounded-full ${
                            card.mastered ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'
                          }`}>
                            {card.mastered ? 'Mastered' : card.difficulty}
                          </span>
                        </div>
                        
                        <h4 className="font-semibold text-gray-900 mb-2 line-clamp-2">{card.front}</h4>
                        <p className="text-sm text-gray-600 line-clamp-2">{card.back}</p>
                        
                        <div className="flex space-x-2 mt-4">
                          <button onClick={() => speakText(card.front)} className="gn-icon-button flex-1">
                            <Icon name="mic" size={16} />
                          </button>
                          <button className="gn-icon-button flex-1">
                            <Icon name="edit" size={16} />
                          </button>
                          <button 
                            onClick={() => {
                              setSelectedCard(card);
                              setShowSellModal(true);
                            }}
                            className="gn-icon-button flex-1"
                            title="Sell Card"
                          >
                            ðŸª™
                          </button>
                          <button className="gn-icon-button flex-1">
                            <Icon name="trash" size={16} />
                          </button>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          </div>
        );
      };

      const renderMarketplace = () => (
        <div className="space-y-8">
          {/* Marketplace Header */}
          <div className="gn-paper">
            <div className="gn-paper-content p-8">
              <div className="text-center mb-8">
                <h2 className="gn-section-title">Card Marketplace</h2>
                <p className="gn-section-subtitle">Trade cards with other players and discover rare finds</p>
              </div>
              
              <div className="flex justify-center space-x-4 mb-6">
                <button 
                  onClick={() => setMarketplaceFilter('all')}
                  className={`gn-button ${marketplaceFilter === 'all' ? '' : 'gn-button-secondary'}`}
                >
                  All Cards
                </button>
                <button 
                  onClick={() => setMarketplaceFilter('sale')}
                  className={`gn-button ${marketplaceFilter === 'sale' ? '' : 'gn-button-secondary'}`}
                >
                  For Sale
                </button>
                <button 
                  onClick={() => setMarketplaceFilter('trade')}
                  className={`gn-button ${marketplaceFilter === 'trade' ? '' : 'gn-button-secondary'}`}
                >
                  Trade Offers
                </button>
              </div>
            </div>
          </div>

          {/* Marketplace Content */}
          {marketplaceFilter === 'all' || marketplaceFilter === 'sale' ? (
            <div className="gn-paper">
              <div className="gn-paper-content p-8">
                <h3 className="text-xl font-semibold mb-6">Cards for Sale</h3>
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                  {marketplaceListings.map(listing => (
                    <div key={listing.id} className="gn-card p-6">
                      <div className="flex justify-between items-start mb-4">
                        <div className="gn-badge">{listing.subject}</div>
                        <div className="text-right">
                          <div className="flex items-center text-lg font-bold text-yellow-600">
                            ðŸª™ {listing.price}
                          </div>
                          <p className="text-sm text-gray-600">by {listing.seller}</p>
                        </div>
                      </div>
                      
                      <div className="mb-4">
                        <h4 className="font-semibold mb-2">{listing.front}</h4>
                        <p className="text-gray-600 text-sm">{listing.back}</p>
                      </div>
                      
                      <div className="flex justify-between items-center">
                        <div className="gn-badge" style={{
                          backgroundColor: listing.difficulty === 'Easy' ? 'var(--md-secondary)' :
                                         listing.difficulty === 'Medium' ? 'var(--md-primary)' : 'var(--md-primary)',
                          color: listing.difficulty === 'Easy' ? 'var(--md-on-secondary)' : 'var(--md-on-primary)'
                        }}>
                          {listing.difficulty}
                        </div>
                        <button 
                          onClick={() => buyCard(listing)}
                          className="gn-button"
                          disabled={userStats.coins < listing.price}
                        >
                          {userStats.coins >= listing.price ? 'Buy Card' : 'Not Enough Coins'}
                        </button>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            </div>
          ) : null}

          {/* Trade Offers */}
          {marketplaceFilter === 'all' || marketplaceFilter === 'trade' ? (
            <div className="gn-paper">
              <div className="gn-paper-content p-8">
                <h3 className="text-xl font-semibold mb-6">Trade Offers</h3>
                {tradeOffers.length > 0 ? (
                  <div className="space-y-4">
                    {tradeOffers.map(trade => (
                      <div key={trade.id} className="gn-card p-6">
                        <div className="flex justify-between items-center">
                          <div>
                            <h4 className="font-semibold">Trade from {trade.from}</h4>
                            <p className="text-gray-600">
                              Offers: <span className="font-medium">{trade.cardOffered}</span>
                            </p>
                            <p className="text-gray-600">
                              Wants: <span className="font-medium">{trade.cardWanted}</span>
                            </p>
                          </div>
                          <div className="flex space-x-2">
                            <button 
                              onClick={() => acceptTrade(trade.id)}
                              className="gn-button"
                            >
                              Accept
                            </button>
                            <button 
                              onClick={() => rejectTrade(trade.id)}
                              className="gn-button-secondary"
                            >
                              Reject
                            </button>
                          </div>
                        </div>
                      </div>
                    ))}
                  </div>
                ) : (
                  <div className="text-center py-8">
                    <p className="text-gray-500">No trade offers available</p>
                  </div>
                )}
              </div>
            </div>
          ) : null}

          {/* Your Listings */}
          <div className="gn-paper">
            <div className="gn-paper-content p-8">
              <div className="flex justify-between items-center mb-6">
                <h3 className="text-xl font-semibold">Your Listings</h3>
                <button 
                  onClick={() => addCoins(50)}
                  className="gn-button-secondary"
                >
                  Get Free Coins (50) ðŸŽ
                </button>
              </div>
              
              {userListings.length > 0 ? (
                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                  {userListings.map(listing => (
                    <div key={listing.id} className="gn-card p-6">
                      <div className="gn-badge mb-4">{listing.subject}</div>
                      <h4 className="font-semibold mb-2">{listing.front}</h4>
                      <p className="text-gray-600 text-sm mb-4">{listing.back}</p>
                      <div className="flex justify-between items-center">
                        <div className="gn-badge">{listing.difficulty}</div>
                        <div className="text-lg font-bold text-yellow-600">ðŸª™ {listing.price}</div>
                      </div>
                    </div>
                  ))}
                </div>
              ) : (
                <div className="text-center py-8">
                  <p className="text-gray-500 mb-4">You haven't listed any cards for sale</p>
                  <button 
                    onClick={() => showSection('collection')}
                    className="gn-button-secondary"
                  >
                    Go to Collection to Sell Cards
                  </button>
                </div>
              )}
            </div>
          </div>
        </div>
      );

      const renderQuests = () => (
        <div className="space-y-8">
          <div className="gn-paper">
            <div className="gn-paper-content p-8">
              <h2 className="gn-section-title">Daily Quests</h2>
              <p className="gn-section-subtitle">Complete challenges to earn rewards</p>
              
              <div className="space-y-4 mt-8">
                {quests.map(quest => (
                  <div key={quest.id} className={`gn-card p-6 ${quest.completed ? 'opacity-75' : ''}`}>
                    <div className="flex items-center justify-between">
                      <div className="flex items-center space-x-4">
                        <div className={`w-12 h-12 rounded-xl flex items-center justify-center ${
                          quest.completed ? 'bg-green-100' : 'bg-blue-100'
                        }`}>
                          <Icon 
                            name={quest.completed ? "check-circle" : "trophy"} 
                            size={24} 
                            color={quest.completed ? "var(--gn-secondary)" : "var(--gn-primary)"} 
                          />
                        </div>
                        
                        <div className="flex-1">
                          <h3 className="font-semibold text-gray-900">{quest.title}</h3>
                          <p className="text-sm text-gray-600">{quest.description}</p>
                          
                          {/* Progress Bar */}
                          <div className="mt-2">
                            <div className="flex justify-between text-xs text-gray-500 mb-1">
                              <span>{quest.progress}/{quest.target}</span>
                              <span>{Math.round((quest.progress / quest.target) * 100)}%</span>
                            </div>
                            <div className="w-full bg-gray-200 rounded-full h-2">
                              <div 
                                className={`h-2 rounded-full transition-all duration-500 ${
                                  quest.completed ? 'bg-green-500' : 'bg-blue-500'
                                }`}
                                style={{width: `${Math.min((quest.progress / quest.target) * 100, 100)}%`}}
                              ></div>
                            </div>
                          </div>
                        </div>
                      </div>
                      
                      <div className="text-right">
                        <div className="flex items-center space-x-2">
                          <Icon name="gem" size={16} color="var(--gn-orange)" />
                          <span className="font-semibold text-orange-600">{quest.reward}</span>
                        </div>
                        {quest.completed && (
                          <span className="text-xs text-green-600 font-medium">Completed!</span>
                        )}
                      </div>
                    </div>
                  </div>
                ))}
              </div>
              
              {/* Weekly Challenges */}
              <div className="mt-12">
                <h3 className="text-xl font-semibold text-gray-900 mb-4">Weekly Challenges</h3>
                <div className="grid md:grid-cols-2 gap-4">
                  <div className="gn-card p-6 border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50">
                    <div className="flex items-center space-x-3 mb-3">
                      <Icon name="zap" size={24} color="var(--gn-purple)" />
                      <h4 className="font-semibold text-purple-900">Speed Learner</h4>
                    </div>
                    <p className="text-sm text-purple-700 mb-2">Study 50 cards this week</p>
                    <div className="w-full bg-purple-200 rounded-full h-2 mb-2">
                      <div className="bg-purple-500 h-2 rounded-full" style={{width: '60%'}}></div>
                    </div>
                    <div className="flex justify-between text-xs text-purple-600">
                      <span>30/50 cards</span>
                      <span>ðŸ† 500 XP</span>
                    </div>
                  </div>
                  
                  <div className="gn-card p-6 border-2 border-orange-200 bg-gradient-to-r from-orange-50 to-yellow-50">
                    <div className="flex items-center space-x-3 mb-3">
                      <Icon name="flame" size={24} color="var(--gn-orange)" />
                      <h4 className="font-semibold text-orange-900">Streak Champion</h4>
                    </div>
                    <p className="text-sm text-orange-700 mb-2">Maintain 7-day streak</p>
                    <div className="w-full bg-orange-200 rounded-full h-2 mb-2">
                      <div className="bg-orange-500 h-2 rounded-full" style={{width: '71%'}}></div>
                    </div>
                    <div className="flex justify-between text-xs text-orange-600">
                      <span>5/7 days</span>
                      <span>ðŸ’Ž 100 Gems</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      );
      const renderLeaderboard = () => (
        <div className="space-y-8">
          <div className="gn-paper">
            <div className="gn-paper-content p-8">
              <h2 className="gn-section-title">Leaderboard</h2>
              <p className="gn-section-subtitle">See how you rank among other learners</p>
              
              {/* Time Period Selector */}
              <div className="flex space-x-2 mt-6 mb-8">
                <button className="gn-nav-tab active">Weekly</button>
                <button className="gn-nav-tab">Monthly</button>
                <button className="gn-nav-tab">All Time</button>
              </div>
              
              {/* Leaderboard List */}
              <div className="space-y-3">
                {leaderboard.map((player, index) => (
                  <div key={index} className={`gn-card p-6 ${player.name === 'You' ? 'border-2 border-blue-200 bg-blue-50' : ''}`}>
                    <div className="flex items-center justify-between">
                      <div className="flex items-center space-x-4">
                        {/* Rank Badge */}
                        <div className={`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white ${
                          player.rank === 1 ? 'bg-gradient-to-r from-yellow-400 to-yellow-600' :
                          player.rank === 2 ? 'bg-gradient-to-r from-gray-300 to-gray-500' :
                          player.rank === 3 ? 'bg-gradient-to-r from-yellow-600 to-yellow-800' :
                          'bg-gradient-to-r from-blue-400 to-blue-600'
                        }`}>
                          {player.rank <= 3 ? (
                            <Icon name={player.rank === 1 ? 'trophy' : 'trophy'} size={20} />
                          ) : (
                            player.rank
                          )}
                        </div>
                        
                        {/* Player Info */}
                        <div>
                          <h3 className={`font-semibold ${player.name === 'You' ? 'text-blue-900' : 'text-gray-900'}`}>
                            {player.name}
                          </h3>
                          <p className="text-sm text-gray-600">Level {player.level}</p>
                        </div>
                      </div>
                      
                      {/* Stats */}
                      <div className="flex items-center space-x-6 text-sm">
                        <div className="text-center">
                          <p className="font-semibold text-gray-900">{player.xp.toLocaleString()}</p>
                          <p className="text-gray-600">XP</p>
                        </div>
                        
                        <div className="flex items-center space-x-1">
                          <Icon name="flame" size={16} color="var(--gn-orange)" />
                          <span className="font-semibold text-orange-600">{player.streak}</span>
                        </div>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
              
              {/* Your Stats Summary */}
              <div className="mt-8 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200">
                <h3 className="font-semibold text-blue-900 mb-4">Your Performance This Week</h3>
                <div className="grid grid-cols-3 gap-4">
                  <div className="text-center">
                    <p className="text-2xl font-bold text-blue-600">150</p>
                    <p className="text-sm text-blue-700">XP Gained</p>
                  </div>
                  <div className="text-center">
                    <p className="text-2xl font-bold text-purple-600">15</p>
                    <p className="text-sm text-purple-700">Cards Studied</p>
                  </div>
                  <div className="text-center">
                    <p className="text-2xl font-bold text-green-600">5</p>
                    <p className="text-sm text-green-700">Day Streak</p>
                  </div>
                </div>
              </div>
              
              {/* Achievement Badges */}
              <div className="mt-8">
                <h3 className="text-lg font-semibold text-gray-900 mb-4">Recent Achievements</h3>
                <div className="flex space-x-3">
                  <div className="gn-badge bg-yellow-100 text-yellow-800 border border-yellow-200">
                    ðŸ† First Win
                  </div>
                  <div className="gn-badge bg-blue-100 text-blue-800 border border-blue-200">
                    ðŸ”¥ 5 Day Streak
                  </div>
                  <div className="gn-badge bg-purple-100 text-purple-800 border border-purple-200">
                    ðŸ“š Study Master
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      );
      const renderAvatar = () => (
        <div className="space-y-8">
          <div className="gn-paper">
            <div className="gn-paper-content p-8">
              <h2 className="gn-section-title">Avatar Customization</h2>
              <p className="gn-section-subtitle">Personalize your learning companion</p>
              
              <div className="grid lg:grid-cols-2 gap-8 mt-8">
                {/* Avatar Preview */}
                <div className="text-center">
                  <div className="gn-card p-8 mb-6">
                    <div className="w-32 h-32 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-400 to-purple-600 flex items-center justify-center avatar-float">
                      <Icon name="sparkles" size={48} color="white" />
                    </div>
                    <h3 className="text-xl font-semibold text-gray-900 mb-2">{userAvatar.name}</h3>
                    <p className="text-gray-600">Your Learning Companion</p>
                    
                    <button onClick={() => speakText(`Hello! I'm ${userAvatar.name}, your magical learning companion!`)} className="gn-button mt-4">
                      <Icon name="mic" size={16} className="mr-2" />
                      Say Hello
                    </button>
                  </div>
                  
                  {/* Stats */}
                  <div className="grid grid-cols-2 gap-4">
                    <div className="gn-card p-4">
                      <p className="text-2xl font-bold text-blue-600">{userStats.level}</p>
                      <p className="text-sm text-gray-600">Avatar Level</p>
                    </div>
                    <div className="gn-card p-4">
                      <p className="text-2xl font-bold text-purple-600">{userStats.gems}</p>
                      <p className="text-sm text-gray-600">Gems Earned</p>
                    </div>
                  </div>
                </div>
                
                {/* Customization Options */}
                <div className="space-y-6">
                  {/* Avatar Type */}
                  <div>
                    <h4 className="font-semibold text-gray-900 mb-3">Avatar Style</h4>
                    <div className="grid grid-cols-3 gap-3">
                      {['wizard', 'scholar', 'ninja', 'robot', 'fairy', 'dragon'].map(type => (
                        <button 
                          key={type}
                          onClick={() => setUserAvatar({...userAvatar, head: type, name: `Study ${type.charAt(0).toUpperCase() + type.slice(1)}`})}
                          className={`gn-card p-4 text-center transition-all ${userAvatar.head === type ? 'border-2 border-blue-500 bg-blue-50' : ''}`}
                        >
                          <Icon name="sparkles" size={24} className="mx-auto mb-2" />
                          <p className="text-sm font-medium capitalize">{type}</p>
                        </button>
                      ))}
                    </div>
                  </div>
                  
                  {/* Background */}
                  <div>
                    <h4 className="font-semibold text-gray-900 mb-3">Environment</h4>
                    <div className="grid grid-cols-2 gap-3">
                      {['library', 'space', 'forest', 'castle'].map(bg => (
                        <button 
                          key={bg}
                          onClick={() => setUserAvatar({...userAvatar, background: bg})}
                          className={`gn-card p-4 text-center transition-all ${userAvatar.background === bg ? 'border-2 border-green-500 bg-green-50' : ''}`}
                        >
                          <Icon name="layers" size={20} className="mx-auto mb-2" />
                          <p className="text-sm font-medium capitalize">{bg}</p>
                        </button>
                      ))}
                    </div>
                  </div>
                  
                  {/* Accessories (Premium) */}
                  <div>
                    <h4 className="font-semibold text-gray-900 mb-3">Accessories</h4>
                    <div className="grid grid-cols-3 gap-3">
                      {['hat', 'glasses', 'crown', 'cape', 'wand', 'book'].map(accessory => (
                        <button 
                          key={accessory}
                          onClick={() => setUserAvatar({...userAvatar, accessory})}
                          className={`gn-card p-3 text-center transition-all relative ${userAvatar.accessory === accessory ? 'border-2 border-purple-500 bg-purple-50' : ''}`}
                        >
                          <Icon name="gem" size={16} className="mx-auto mb-1" />
                          <p className="text-xs font-medium capitalize">{accessory}</p>
                          <div className="absolute top-1 right-1 bg-orange-500 text-white text-xs px-1 rounded">
                            {Math.floor(Math.random() * 50) + 10}ðŸ’Ž
                          </div>
                        </button>
                      ))}
                    </div>
                    <p className="text-sm text-gray-600 mt-2">ðŸ’¡ Unlock accessories by completing quests and earning gems!</p>
                  </div>
                </div>
              </div>
              
              {/* Avatar Abilities */}
              <div className="mt-8">
                <h3 className="text-lg font-semibold text-gray-900 mb-4">Avatar Abilities</h3>
                <div className="grid md:grid-cols-3 gap-4">
                  <div className="gn-card p-4 border-2 border-blue-200 bg-blue-50">
                    <Icon name="mic" size={24} color="var(--gn-blue)" className="mb-2" />
                    <h5 className="font-semibold text-blue-900">Voice Assistant</h5>
                    <p className="text-sm text-blue-700">Reads cards aloud and provides encouragement</p>
                  </div>
                  
                  <div className="gn-card p-4 border-2 border-green-200 bg-green-50">
                    <Icon name="lightbulb" size={24} color="var(--gn-secondary)" className="mb-2" />
                    <h5 className="font-semibold text-green-900">Smart Hints</h5>
                    <p className="text-sm text-green-700">Provides helpful hints when you're stuck</p>
                  </div>
                  
                  <div className="gn-card p-4 border-2 border-purple-200 bg-purple-50">
                    <Icon name="trophy" size={24} color="var(--gn-purple)" className="mb-2" />
                    <h5 className="font-semibold text-purple-900">Progress Tracking</h5>
                    <p className="text-sm text-purple-700">Celebrates your achievements and milestones</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      );

      return (
        <div className="min-h-screen" style={{background: 'var(--gn-background)'}}>
          {/* Header */}
          <div className="gn-header">
            <div className="gn-container">
              <div className="flex items-center justify-between py-4">
                <div className="flex items-center space-x-6">
                  <h1 style={{fontSize: '28px', fontWeight: '700', color: 'var(--gn-text-primary)', margin: '0'}}>
                    ANKID
                  </h1>
                  <div className="gn-badge" style={{background: 'var(--md-secondary)', color: 'var(--md-on-secondary)'}}>
                    Gamified Learning Adventure
                  </div>
                </div>
                
                <div className="flex items-center space-x-3">
                  <div className="flex items-center space-x-4 mr-4">
                    <div className="gn-badge">
                      <Icon name="gem" size={16} className="mr-1" />
                      {userStats.gems}
                    </div>
                    <div className="gn-badge" style={{background: 'var(--gn-yellow)', color: 'var(--gn-text-primary)'}}>
                      ðŸª™ {userStats.coins}
                    </div>
                  </div>
                  <button className="gn-icon-button">
                    <Icon name="mic" />
                  </button>
                  <button className="gn-icon-button">
                    <Icon name="settings" />
                  </button>
                </div>
              </div>
              
              {/* Navigation */}
              <div className="flex space-x-2 pb-4">
                <button onClick={() => showSection('dashboard')} className={`gn-nav-tab ${currentSection === 'dashboard' ? 'active' : ''}`}>
                  Dashboard
                </button>
                <button onClick={() => showSection('study')} className={`gn-nav-tab ${currentSection === 'study' ? 'active' : ''}`}>
                  Study
                </button>
                <button onClick={() => showSection('collection')} className={`gn-nav-tab ${currentSection === 'collection' ? 'active' : ''}`}>
                  Collection
                </button>
                <button onClick={() => showSection('marketplace')} className={`gn-nav-tab ${currentSection === 'marketplace' ? 'active' : ''}`}>
                  Marketplace
                </button>
                <button onClick={() => showSection('quests')} className={`gn-nav-tab ${currentSection === 'quests' ? 'active' : ''}`}>
                  Quests
                </button>
                <button onClick={() => showSection('leaderboard')} className={`gn-nav-tab ${currentSection === 'leaderboard' ? 'active' : ''}`}>
                  Leaderboard
                </button>
                <button onClick={() => showSection('avatar')} className={`gn-nav-tab ${currentSection === 'avatar' ? 'active' : ''}`}>
                  Avatar
                </button>
              </div>
            </div>
          </div>

          {/* Main Content */}
          <div className="gn-container py-8">
            {renderCurrentSection()}
          </div>

          {/* Sell Modal */}
          {showSellModal && selectedCard && (
            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div className="gn-paper max-w-md w-full mx-4">
                <div className="gn-paper-content p-8">
                  <div className="flex justify-between items-center mb-6">
                    <h3 className="text-xl font-semibold">Sell Card</h3>
                    <button 
                      onClick={() => {
                        setShowSellModal(false);
                        setSelectedCard(null);
                        setSellPrice('');
                      }}
                      className="gn-icon-button"
                    >
                      <Icon name="x-circle" size={20} />
                    </button>
                  </div>
                  
                  <div className="mb-6">
                    <div className="gn-card p-4 mb-4">
                      <div className="gn-badge mb-2">{selectedCard.subject}</div>
                      <h4 className="font-semibold mb-2">{selectedCard.front}</h4>
                      <p className="text-gray-600 text-sm">{selectedCard.back}</p>
                    </div>
                  </div>
                  
                  <div className="mb-6">
                    <label className="block text-sm font-medium text-gray-700 mb-2">
                      Sell Price (Coins)
                    </label>
                    <input
                      type="number"
                      value={sellPrice}
                      onChange={(e) => setSellPrice(e.target.value)}
                      className="gn-input"
                      placeholder="Enter price..."
                      min="1"
                    />
                    <p className="text-sm text-gray-500 mt-2">
                      Suggested price: {selectedCard.difficulty === 'Easy' ? '10-20' : 
                                      selectedCard.difficulty === 'Medium' ? '25-35' : '40-50'} coins
                    </p>
                  </div>
                  
                  <div className="flex space-x-4">
                    <button 
                      onClick={sellCard}
                      className="gn-button flex-1"
                      disabled={!sellPrice || parseInt(sellPrice) <= 0}
                    >
                      List for Sale
                    </button>
                    <button 
                      onClick={() => {
                        setShowSellModal(false);
                        setSelectedCard(null);
                        setSellPrice('');
                      }}
                      className="gn-button-secondary flex-1"
                    >
                      Cancel
                    </button>
                  </div>
                </div>
              </div>
            </div>
          )}
        </div>
      );
    };

    // Render the app
    ReactDOM.render(<ANKIDApp />, document.getElementById('root'));
  </script>
</body>
</html>
